<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=yes" />
  <title>üöö –õ–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <div id="setup-section" class="card" style="display:none; border: 2px solid #007AFF;">
      <div class="title" data-i18n="activate">üîë –ê–∫—Ç–∏–≤–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞</div>
      <p style="font-size: 13px; margin: 10px 0;" data-i18n="keyDesc">–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –≤—Å—Ç–∞–≤—å—Ç–µ API –∫–ª—é—á Google Maps. –û–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ.</p>
      <input type="password" id="apiKeyInput" class="input" data-i18n-placeholder="keyPlaceholder" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á AIzaSy...">
      <button class="btn btn-blue" id="btnSaveKey" style="margin-top:10px; width:100%;" data-i18n="activateBtn">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
    </div>

    <div id="main-app" style="display:none;">
      <div class="card">
        <div class="header">
          <div class="title" data-i18n="base">üèÅ –ë–∞–∑–∞ / –°—Ç–∞—Ä—Ç</div>
          <div id="status" class="status" data-i18n="statusReady">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>
        <select id="baseSelect" class="input">
          <option value="sandersdorf" data-i18n="sandersdorf">–ó–∞–Ω–¥–µ—Ä—Å–¥–æ—Ä—Ñ</option>
          <option value="zoerbig" data-i18n="zorbig">–¶—ë—Ä–±–∏–≥</option>
          <option value="wolfen" data-i18n="wolfen">–í–æ–ª—å—Ñ–µ–Ω</option>
          <option value="bitterfeld" data-i18n="bitterfeld">–ë–∏—Ç—Ç–µ—Ä—Ñ–µ–ª—å–¥</option>
        </select>
      </div>

      <div class="card">
        <div class="title" data-i18n="aiTitle">ü§ñ AI –æ–±—Ä–∞–±–æ—Ç–∫–∞ (Gemini)</div>
        <input type="password" id="geminiKeyInput" class="input" data-i18n-placeholder="geminiPlaceholder" placeholder="–í–≤–µ–¥–∏—Ç–µ Gemini API key..." />
        <div class="row">
          <button class="btn btn-blue" id="btnSaveGemini" data-i18n="saveGemini">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å Gemini –∫–ª—é—á</button>
          <button class="btn btn-gray" id="btnClearGemini" data-i18n="clearGemini">–£–¥–∞–ª–∏—Ç—å Gemini –∫–ª—é—á</button>
        </div>
        <input id="aiImageInput" class="input" type="file" accept="image/*" style="margin-top:10px;" />
        <div class="row">
          <button class="btn btn-blue" id="btnAiAnalyze" data-i18n="analyzeWithAi">üß† –†–∞—Å–ø–æ–∑–Ω–∞—Ç—å –∞–¥—Ä–µ—Å–∞ –ò–ò</button>
        </div>
      </div>

      <div class="card">
        <div class="title" data-i18n="addresses">üì• –ê–¥—Ä–µ—Å–∞ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏</div>
        <textarea id="textInput" data-i18n-placeholder="textPlaceholder" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ –∞–¥—Ä–µ—Å–∞ (–∫–∞–∂–¥—ã–π —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏)"></textarea>
        <div class="row">
          <button class="btn btn-gray" id="btnClear" data-i18n="clear">üóë –°–±—Ä–æ—Å</button>
        </div>
        <button class="btn btn-green" id="btnBuild" style="width:100%; margin-top:10px; font-weight: bold;" data-i18n="buildRoute">üöÄ –ü–û–°–¢–†–û–ò–¢–¨ –ú–ê–†–®–†–£–¢</button>
      </div>

      <div class="card">
        <div class="title" data-i18n="mapTitle">üó∫Ô∏è –ö–∞—Ä—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–∞ (–ø—Ä–æ—Å–º–æ—Ç—Ä)</div>
        <div id="mapPreview"></div>
        <div class="map-legend">
          <div><span class="legend-icon">üè•</span><span data-i18n="legendClinic">–ö–ª–∏–Ω–∏–∫–∞ [–ö]</span></div>
          <div><span class="legend-icon">üè¢</span><span data-i18n="legendInstitution">–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ [–£]</span></div>
          <div><span class="legend-icon">üè†</span><span data-i18n="legendPrivate">–ß–∞—Å—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ [–ß]</span></div>
        </div>
      </div>

      <div id="segmentsContainer"></div>

      <div style="text-align: center;">
        <button id="btnResetKey" style="background: none; border: none; color: #999; font-size: 10px; text-decoration: underline; cursor: pointer; margin-top: 30px;" data-i18n="reset">–°–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–ª—é—á</button>
      </div>
    </div>
  </div>
  <script src="app.js"></script>
</body>
</html>
